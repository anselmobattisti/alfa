(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["deviceNew"],{3039:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h2",[t._v("New Virtual Device")]),o("b-alert",{attrs:{show:t.msg.show,variant:t.msg.type}},[t._v("\n          "+t._s(t.msg.text)+"\n      ")]),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Name:","label-for":"name"}},[o("b-form-input",{attrs:{id:"name",type:"text",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("b-form-group",{attrs:{id:"input-group-3",label:"Edge Node:","label-for":"node"}},[o("b-form-select",{staticClass:"mt-3",staticStyle:{"margin-top":"0px!important"},attrs:{id:"nodeIp",options:t.nodes,size:"sm"},model:{value:t.form.nodeIp,callback:function(e){t.$set(t.form,"nodeIp",e)},expression:"form.nodeIp"}})],1),o("b-form-group",{attrs:{id:"input-group-1",label:"Physical Path:","label-for":"physicalPath"}},[o("b-form-input",{attrs:{id:"physicalPath",type:"text"},model:{value:t.form.physicalPath,callback:function(e){t.$set(t.form,"physicalPath",e)},expression:"form.physicalPath"}})],1),o("b-form-group",{attrs:{id:"input-group-3",label:"Connection Type:","label-for":"connectionType"}},[o("b-form-select",{staticClass:"mt-3",staticStyle:{"margin-top":"0px!important"},attrs:{id:"connectionType",options:t.connectionTypes,size:"sm"},model:{value:t.form.connectionType,callback:function(e){t.$set(t.form,"connectionType",e)},expression:"form.connectionType"}})],1),o("b-form-group",{attrs:{id:"input-group-2",label:"Connection Parameters:","label-for":"parameters"}},[o("b-textarea",{attrs:{id:"connectionParameters"},model:{value:t.form.connectionParameters,callback:function(e){t.$set(t.form,"connectionParameters",e)},expression:"form.connectionParameters"}})],1),o("b-form-group",{attrs:{id:"input-group-3",label:"Location:","label-for":"location"}},[o("b-form-select",{staticClass:"mt-3",staticStyle:{"margin-top":"0px!important"},attrs:{required:"",id:"location",options:t.locations,size:"sm"},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}})],1),o("b-form-group",{attrs:{id:"input-group-2",label:"Description:","label-for":"description"}},[o("b-form-textarea",{attrs:{id:"description",type:"text"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),o("b-form-group",{attrs:{id:"input-group-6",label:"Output Type:","label-for":"outputType"}},[o("b-form-radio",{attrs:{name:"outputType",value:"video"},model:{value:t.form.outputType,callback:function(e){t.$set(t.form,"outputType",e)},expression:"form.outputType"}},[t._v("Video")]),o("b-form-radio",{attrs:{name:"outputType",value:"audio"},model:{value:t.form.outputType,callback:function(e){t.$set(t.form,"outputType",e)},expression:"form.outputType"}},[t._v("Audio")]),o("b-form-radio",{attrs:{name:"outputType",value:"audioevideo"},model:{value:t.form.outputType,callback:function(e){t.$set(t.form,"outputType",e)},expression:"form.outputType"}},[t._v("Audio & Video")])],1),o("b-row",[o("b-col",[o("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")])],1),o("b-col",{staticClass:"text-right"},[o("b-button",{attrs:{to:"/device",variant:"secondary"}},[t._v("Back")])],1)],1)],1)],1)},a=[],r=o("7668"),i=o("a0df"),c=o("827f"),s={name:"deviceNew",data:function(){return{locations:[],connectionTypes:[],nodes:[],form:{name:"",physicalPath:"",connectionType:"",connectionParameters:"",description:"",nodeIp:"",node:"",outputType:"video"},msg:{text:!1,type:"",show:!1}}},methods:{onSubmit:function(t){var e=this;t.preventDefault();for(var o=0;o<this.nodes.length;o++)this.nodes[o].value==this.form.nodeIp&&(this.form.node=this.nodes[o].id);r["a"].newDevice(this.form).then((function(){e.msg.text="Device saved",e.msg.type="success",e.msg.show=!0})).catch((function(t){e.msg.text="Error when saving device ".concat(t),e.msg.type="danger",e.msg.show=!0}))}},created:function(){var t=this;c["a"].getNodesForSelect().then((function(e){t.nodes=e})),r["a"].getConnectionTypes().then((function(e){t.connectionTypes=e})),i["a"].getLocationsForSelect().then((function(e){t.locations=e}))}},u=s,p=o("2877"),f=Object(p["a"])(u,n,a,!1,null,null,null);e["default"]=f.exports},"827f":function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));o("7f7f"),o("ac6a");var n=o("db49"),a={newNode:function(t){return t?new Promise((function(e,o){n["a"].api.post("/node/",t).then((function(t){e(t.data)})).catch((function(t){o(new Error("Error when creating a new node ".concat(t)))}))})):Promise.reject(new Error("Data not informed"))},updateNode:function(t){return t?new Promise((function(e,o){n["a"].api.put("/node/".concat(t.id),t).then((function(t){e(t.data)})).catch((function(t){o(new Error("Error when updating a node ".concat(t)))}))})):Promise.reject(new Error("Data not informed"))},removeNode:function(t){return t?new Promise((function(e,o){n["a"].api.delete("/node/".concat(t)).then((function(t){e(t.data)})).catch((function(t){o(new Error("Error when removing a new node ".concat(t)))}))})):Promise.reject(new Error("Data not informed"))},getNodes:function(){return new Promise((function(t,e){n["a"].api.get("/node/").then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},updateStatus:function(){return new Promise((function(t,e){n["a"].api.get("/node/updateStatus").then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},getNode:function(t){return new Promise((function(e,o){n["a"].api.get("/node/".concat(t)).then((function(t){e(t.data)})).catch((function(t){o(t)}))}))},getNodeImages:function(t){return new Promise((function(e,o){n["a"].api.get("/node/images/".concat(t)).then((function(t){e(t.data)})).catch((function(t){o(t)}))}))},getNodeStats:function(t){return new Promise((function(e,o){n["a"].api.get("/node/status/".concat(t)).then((function(t){e(t.data)})).catch((function(t){o(t)}))}))},getNodesForSelect:function(){return new Promise((function(t,e){n["a"].api.get("/node/").then((function(e){var o=[];e.data.forEach((function(t){o.push({value:t.ip,text:"".concat(t.name," ").concat(t.ip),id:t._id})})),t(o)})).catch((function(t){e(t)}))}))},getNodesForVmsSelect:function(){return new Promise((function(t,e){n["a"].api.get("/node/nodeOptions").then((function(e){var o=[];e.data.forEach((function(t){o.push({value:t.ip,text:"".concat(t.name),id:t._id})})),t(o)})).catch((function(t){e(t)}))}))}}}}]);
//# sourceMappingURL=deviceNew.ed6ed5d6.js.map